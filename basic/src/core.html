<!DOCTYPE html>
<!-- 
    To view this file, open it from the local filesystem with your web browser.
    Or, start a webserver with `npx serve`. Then, navigate to http://localhost:5000/
-->
<html>
    <head>
        <style>
            body {
                margin: 30px;
                font: 18px "Myriad Pro", Helvetica, Arial, sans-serif;
            }
        </style>
    </head>
    <body>
        <div id="output"></div>
        <!--
            vexflow-core.js loads no music fonts by default.
            You'll need to explicitly load a font by calling async Vex.Flow.setMusicFont(fontName).
        -->
        <script src="../node_modules/vexflow/build/cjs/vexflow-core.js"></script>
        <script>
            function loadScript(url) {
                return new Promise((resolve, reject) => {
                    const script = document.createElement("script");
                    script.onload = resolve;
                    script.onerror = reject;
                    script.src = url;
                    document.getElementsByTagName("head")[0].appendChild(script);
                });
            }

            // This line is required. Otherwise, the music font stack is empty.
            Vex.Flow.setMusicFont("Petaluma").then(() => {
                // Petaluma Font is loaded!
                loadScript("core.js");
            });
        </script>
    </body>
</html>
